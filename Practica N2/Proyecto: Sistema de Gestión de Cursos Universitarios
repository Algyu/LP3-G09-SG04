import java.util.ArrayList;

abstract class Persona {
    protected String nombre;
    protected String dni;

    public Persona(String nombre, String dni) {
        this.nombre = nombre;
        this.dni = dni;
    }

    public abstract void mostrarInfo();
}

class Estudiante extends Persona {
    private String carrera;

    public Estudiante(String nombre, String dni, String carrera) {
        super(nombre, dni);
        this.carrera = carrera;
    }

    @Override
    public void mostrarInfo() {
        System.out.println("Estudiante: " + nombre + " - Carrera: " + carrera);
    }
}

class Profesor extends Persona {
    private String especialidad;

    public Profesor(String nombre, String dni, String especialidad) {
        super(nombre, dni);
        this.especialidad = especialidad;
    }

    @Override
    public void mostrarInfo() {
        System.out.println("Profesor: " + nombre + " - Especialidad: " + especialidad);
    }
}

class Curso {
    private String nombre;
    private String categoria;
    private Profesor profesor; // agregación
    private ArrayList<Estudiante> estudiantes; // composición
    public static final int MAX_ESTUDIANTES = 30; // constante

    public Curso(String nombre, String categoria, Profesor profesor) {
        this.nombre = nombre;
        this.categoria = categoria;
        this.profesor = profesor;
        this.estudiantes = new ArrayList<>();
    }

    public boolean inscribirEstudiante(Estudiante e) {
        if (estudiantes.size() < MAX_ESTUDIANTES) {
            estudiantes.add(e);
            return true;
        }
        return false;
    }

    public int getCantidadEstudiantes() {
        return estudiantes.size();
    }

    public void mostrarCurso() {
        System.out.println("Curso: " + nombre + " (" + categoria + ")");
        System.out.println("Profesor: " + profesor.nombre);
        System.out.println("Estudiantes inscritos: " + estudiantes.size());
    }
}

class SistemaGestion {
    private ArrayList<Curso> cursos;

    public SistemaGestion() {
        cursos = new ArrayList<>();
    }

    public void agregarCurso(Curso c) {
        cursos.add(c);
    }

    public void mostrarCursos() {
        for (Curso c : cursos) {
            c.mostrarCurso();
            System.out.println("--------------------");
        }
    }

    public void mostrarDisponibles() {
        System.out.println("Cursos disponibles:");
        for (Curso c : cursos) {
            if (c.getCantidadEstudiantes() < Curso.MAX_ESTUDIANTES) {
                System.out.println("- " + c.getCantidadEstudiantes() + "/" + Curso.MAX_ESTUDIANTES + " en " + c.getClass().getSimpleName());
            }
        }
    }
}

public class Main {
    public static void main(String[] args) {
        Profesor p1 = new Profesor("Sergio Delgado", "12345678", "Programacion");
        Profesor p2 = new Profesor("Ana Flores", "87654321", "Matematicas");

        Curso curso1 = new Curso("Programacion III", "Programacion", p1);
        Curso curso2 = new Curso("Algebra Lineal", "Matematicas", p2);

        Estudiante e1 = new Estudiante("Carlos Perez", "11112222", "Ingenieria de Minas");
        Estudiante e2 = new Estudiante("Maria López", "33334444", "Ingenieria Geologica");

        SistemaGestion sistema = new SistemaGestion();
        sistema.agregarCurso(curso1);
        sistema.agregarCurso(curso2);

        curso1.inscribirEstudiante(e1);
        curso2.inscribirEstudiante(e2);

        sistema.mostrarCursos();
        sistema.mostrarDisponibles();

        Persona persona1 = e1;
        Persona persona2 = p1;
        persona1.mostrarInfo();
        persona2.mostrarInfo();
    }
}
